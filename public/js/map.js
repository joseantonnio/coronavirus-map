!function(e){var r={};function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)t.d(a,n,function(r){return e[r]}.bind(null,n));return a},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="/",t(t.s=33)}({33:function(e,r,t){e.exports=t(34)},34:function(e,r){var t={};if(-1!==document.location.toString().indexOf("?"))for(var a=document.location.toString().replace(/^.*?\?/,"").replace(/#.*$/,"").split("&"),n=0,o=a.length;n<o;n++){var i=decodeURIComponent(a[n]).split("=");t[i[0]]=i[1]}var s=L.latLng(-59.9,-100.1),c=L.latLng(19.9,-20.2),l=L.latLngBounds(s,c);if(null!=t.lat&&null!=t.lng)var u=L.map("coronamap",{maxBounds:l}).setView([t.lat,t.lng],11);else u=L.map("coronamap",{maxBounds:l}).setView([-15.45368,-49.526367],4);L.tileLayer("https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png",{attribution:'Mapa pela comunidade &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a>, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagens por <a href="https://foundation.wikimedia.org/wiki/Maps_Terms_of_Use">Wikimedia Maps</a>',maxZoom:11,minZoom:4,tileSize:256,zoomOffset:0}).addTo(u),$.ajax({url:"/infections",type:"get",dataType:"json",success:function(e){for(var r=e,t=L.markerClusterGroup({iconCreateFunction:function(e){var r=e.getAllChildMarkers(),t=0;r.forEach((function(e){t+=e.options.cases}));var a=" marker-cluster-";return a+=t<50?"small":t<100?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+a,iconSize:new L.Point(40,40)})}}),a=0;a<r.length;++a){var n=r[a].city.name+"<br/><b>Casos:</b> "+r[a].cases+"<br/><b>Mortes:</b> "+r[a].deaths+"<br/><b>Recuperados:</b> "+r[a].recovered+"<br/><b>Casos Graves (UTI):</b> "+r[a].serious+"<br/><b>Primeiro Caso:</b> "+moment(r[a].first_case).format("DD [de] MMMM [de] YYYY");if(r[a].cases<50)var o="#b5e28c";else if(r[a].cases<100)o="#f1d357";else o="#fd9c73";var i=L.circleMarker([r[a].city.lat,r[a].city.lng],{color:o,radius:r[a].city.radius,cases:r[a].cases}).bindPopup(n);t.addLayer(i)}u.addLayer(t)}})}});